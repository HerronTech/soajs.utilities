nginx:
    image: soajs_cloud_dashboard_nginx
    links:
        - controller01:service_proxy01
        - controller02:service_proxy02
        - controller03:service_proxy03
    ports:
        - "80:80"

controller01:
    image: soajs_cloud_dashboard_controller
    links:
        - uracdashboard01:urac_dashboard_proxy01
        - uracdashboard02:urac_dashboard_proxy02
        - uracdashboard03:urac_dashboard_proxy03
    ports:
        - "4000"
        - "5000"
    volumes:
        - $HOME/soajs/log/controller01/:/opt/soajs/log/

controller02:
    image: soajs_cloud_dashboard_controller
    links:
        - uracdashboard01:urac_dashboard_proxy01
        - uracdashboard02:urac_dashboard_proxy02
        - uracdashboard03:urac_dashboard_proxy03
    ports:
        - "4000"
        - "5000"

controller03:
    image: soajs_cloud_dashboard_controller
    links:
        - uracdashboard01:urac_dashboard_proxy01
        - uracdashboard02:urac_dashboard_proxy02
        - uracdashboard03:urac_dashboard_proxy03
    ports:
        - "4000"
        - "5000"

uracdashboard01:
    image: soajs_cloud_dashboard_urac_dashboard
    links:
        - mongo:data_proxy
    ports:
        - "4001"
        - "4003"
        - "5001"
        - "5003"
    volumes:
        - $HOME/soajs/log/uracdashboard01/:/opt/soajs/log/

uracdashboard02:
    image: soajs_cloud_dashboard_urac_dashboard
    links:
        - mongo:data_proxy
    ports:
        - "4001"
        - "4003"
        - "5001"
        - "5003"

uracdashboard03:
    image: soajs_cloud_dashboard_urac_dashboard
    links:
        - mongo:data_proxy
    ports:
        - "4001"
        - "4003"
        - "5001"
        - "5003"

mongo:
    image: mongo
    ports:
        - "27017:27017"