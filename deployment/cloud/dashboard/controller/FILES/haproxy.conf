global
	log /opt/soajs/log/haproxy	local0
	log /opt/soajs/log/haproxy	local1 notice
	chroot /var/lib/haproxy
	user haproxy
	group haproxy
#	daemon

defaults
	log	global
	mode	http
	option	httplog
	option	dontlognull
        contimeout 5000
        clitimeout 50000
        srvtimeout 50000
	errorfile 400 /opt/soajs/log/haproxy_errors_400.http
	errorfile 403 /opt/soajs/log/haproxy_errors_403.http
	errorfile 408 /opt/soajs/log/haproxy_errors_408.http
	errorfile 500 /opt/soajs/log/haproxy_errors_500.http
	errorfile 502 /opt/soajs/log/haproxy_errors_502.http
	errorfile 503 /opt/soajs/log/haproxy_errors_503.http
	errorfile 504 /opt/soajs/log/haproxy_errors_504.http

frontend urac
    bind *:4001
    mode http
    default_backend urac

backend urac
    balance roundrobin
    server urac_01 urac_dashboard_proxy01:4001 check inter 1000 rise 2 fall 1 port 5001
    server urac_02 urac_dashboard_proxy02:4001 check inter 1000 rise 2 fall 1 port 5001
    server urac_03 urac_dashboard_proxy03:4001 check inter 1000 rise 2 fall 1 port 5001


frontend dashboard
    bind *:4003
    mode http
    default_backend dashboard

backend dashboard
    balance roundrobin
    server dashboard_01 urac_dashboard_proxy01:4003 check inter 1000 rise 2 fall 1 port 5003
    server dahsboard_02 urac_dashboard_proxy02:4003 check inter 1000 rise 2 fall 1 port 5003
    server dashboard_03 urac_dashboard_proxy03:4003 check inter 1000 rise 2 fall 1 port 5003
